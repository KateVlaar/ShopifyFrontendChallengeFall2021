(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{24:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),c=n(18),i=n.n(c),r=(n(24),n(9)),l=n(3),o=n(5),j=n.n(o),d=n(8),h=n(19),m=n(0);var u=function(e){var t=Object(h.useMediaQuery)({query:"(max-width: 1224px)"});function n(){e.onNominated(e.title,e.year)}return Object(m.jsx)("div",{children:t?Object(m.jsxs)("div",{className:"search-result",children:[Object(m.jsx)("p",{className:"movie-title",children:Object(m.jsx)("b",{children:e.title})}),Object(m.jsxs)("p",{className:"movie-year",children:[" (",e.year,") "]}),e.nominations.some((function(t){return t.title===e.title&&t.year===e.year}))?Object(m.jsx)("span",{className:"material-icons",children:"star"}):Object(m.jsx)("span",{onClick:n,className:"material-icons",children:"star_border"})]}):Object(m.jsxs)("div",{className:"search-result",children:[Object(m.jsx)("p",{className:"movie-title",children:Object(m.jsx)("b",{children:e.title})}),Object(m.jsxs)("p",{className:"movie-year",children:[" (",e.year,") "]}),e.nominations.some((function(t){return t.title===e.title&&t.year===e.year}))?Object(m.jsxs)("button",{disabled:!0,className:"nominate-button",children:[Object(m.jsx)("span",{className:"material-icons",children:"star"}),"Nominated"]}):Object(m.jsxs)("button",{onClick:n,className:"nominate-button",children:[Object(m.jsx)("span",{className:"material-icons",children:"star_border"}),"Nominate"]})]})})};var b=function(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],i=s[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),h=o[0],b=o[1],p=Object(a.useState)(!1),O=Object(l.a)(p,2),x=O[0],v=O[1];function f(){return(f=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Enter"===t.key&&(b([]),v(!1),i(t.target.value),N(t.target.value));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(j.a.mark((function e(t){var a,s,c,i,r,l,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=1,s=[],c=n(27),i="https://www.omdbapi.com/?s=".concat(t,"&type=movie&apikey=").concat("caeac616","&page=").concat(a),e.next=6,c(i);case 6:if(r=e.sent,l=r.data.totalResults,"False"!==r.data.Response){e.next=11;break}return v(!0),e.abrupt("return");case 11:if(!(l>0)){e.next=21;break}for(o=0;o<r.data.Search.length;o++)r.data&&s.push({title:r.data.Search[o].Title,year:r.data.Search[o].Year});return l-=r.data.Search.length,a+=1,console.log(s),e.next=18,c(i);case 18:r=e.sent,e.next=11;break;case 21:b(s);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"search-bar",children:[Object(m.jsx)("input",{onKeyPress:function(e){return f.apply(this,arguments)},type:"text",name:"search",placeholder:"Enter a movie title"}),Object(m.jsx)("span",{className:"material-icons md-dark",children:"search"})]}),Object(m.jsx)("div",{className:"search-results-container",children:x?Object(m.jsxs)("h4",{children:['No results matching "',c,'"']}):Object(m.jsx)("div",{children:""!==c&&0===h.length?Object(m.jsx)("div",{id:"loader"}):Object(m.jsxs)("div",{children:[""===c?Object(m.jsx)("div",{}):Object(m.jsx)("div",{children:Object(m.jsxs)("h4",{children:['Search results for "',c,'"']})}),h.map((function(t,n){return Object(m.jsx)(u,{nominations:e.nominations,onNominated:e.onNominated,title:t.title,year:t.year},n)}))]})})})]})};var p=function(e){return Object(m.jsxs)("div",{className:"nominations-list",children:[Object(m.jsx)("span",{onClick:function(){e.deleteNomination(e.title,e.year)},className:"material-icons",children:"remove_circle"}),Object(m.jsxs)("p",{className:"nominations-title",children:[Object(m.jsx)("b",{children:e.title})," (",e.year,") "]})]})};n(46);var O=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1];function c(e,t){var a=-1;n.map((function(n,s){n.title===e&&n.year===t&&(a=s)}));var c=Object(r.a)(n);c.splice(a,1),s(c)}return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsxs)("div",{className:"noms-header",children:[Object(m.jsx)("h1",{children:"Nominations"}),n.map((function(e,t){return Object(m.jsx)(p,{deleteNomination:c,title:e.title,year:e.year},t)}))]}),Object(m.jsxs)("div",{className:"main-content",children:[Object(m.jsx)("h1",{children:"The Shoppies"}),Object(m.jsx)(b,{nominations:n,onNominated:function(e,t){var a=Object(r.a)(n);a.length<5&&(a.push({title:e,year:t}),s(a)),5===a.length&&function(){var e=document.getElementById("noms-done-snackbar");e.className="show",setTimeout((function(){e.className=e.className.replace("show","")}),3e3)}()}})]}),Object(m.jsxs)("div",{id:"noms-done-snackbar",children:[Object(m.jsx)("span",{className:"material-icons",children:"done\xa0"}),"Successfully nominated 5 films"]})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(O,{})}),document.getElementById("root")),x()}},[[47,1,2]]]);
//# sourceMappingURL=main.e9db9b5e.chunk.js.map